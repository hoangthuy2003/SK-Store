using Microsoft.AspNetCore.Http;

namespace Services.Interfaces
{
    public interface IFileUploadService
    {
        /// <summary>
        /// Upload một file ảnh và trả về URL của file đã upload
        /// </summary>
        /// <param name="file">File ảnh cần upload</param>
        /// <param name="subfolder">Thư mục con để lưu file (ví dụ: "products")</param>
        /// <returns>URL của file đã upload</returns>
        Task<string> UploadImageAsync(IFormFile file, string subfolder = "products");

        /// <summary>
        /// Upload nhiều file ảnh cùng lúc
        /// </summary>
        /// <param name="files">Danh sách file ảnh cần upload</param>
        /// <param name="subfolder">Thư mục con để lưu file</param>
        /// <returns>Danh sách URL của các file đã upload</returns>
        Task<List<string>> UploadMultipleImagesAsync(IFormFile[] files, string subfolder = "products");

        /// <summary>
        /// Xóa file ảnh dựa trên URL
        /// </summary>
        /// <param name="imageUrl">URL của file cần xóa</param>
        /// <returns>True nếu xóa thành công</returns>
        Task<bool> DeleteImageAsync(string imageUrl);

        /// <summary>
        /// Kiểm tra xem file có phải là ảnh hợp lệ không
        /// </summary>
        /// <param name="file">File cần kiểm tra</param>
        /// <returns>True nếu file là ảnh hợp lệ</returns>
        bool IsValidImage(IFormFile file);
    }
}