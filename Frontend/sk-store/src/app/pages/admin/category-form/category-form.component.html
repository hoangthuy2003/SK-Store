<div class="container mx-auto">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">
    {{ isEditMode ? 'Chỉnh sửa Danh mục' : 'Thêm Danh mục mới' }}
  </h1>

  @if (isLoading()) {
    <p class="p-4 text-gray-500">Đang tải dữ liệu...</p>
  } @else {
    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="bg-white p-6 rounded-lg shadow-md space-y-4 max-w-2xl">
      <!-- Category Name -->
      <div>
        <label for="categoryName" class="form-label">Tên Danh mục</label>
        <input id="categoryName" type="text" formControlName="categoryName" class="form-input">
      </div>

      <!-- Description -->
      <div>
        <label for="description" class="form-label">Mô tả</label>
        <textarea id="description" formControlName="description" rows="4" class="form-input"></textarea>
      </div>

      <!-- Submit Buttons -->
      <div class="flex justify-end gap-4 pt-4">
        <button type="button" (click)="goBack()" class="btn-secondary">Hủy</button>
        <button type="submit" [disabled]="categoryForm.invalid || isSaving()" class="btn-primary">
          @if(isSaving()) {
            <span>Đang lưu...</span>
          } @else {
            <span>Lưu</span>
          }
        </button>
      </div>
    </form>
  }
</div>